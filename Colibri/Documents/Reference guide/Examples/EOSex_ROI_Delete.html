<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>EOSex_ROI_Delete</title></head>
<body>&nbsp;&nbsp;&nbsp; <a href="file:///D:/Vip_Tools/Colibri/Reference%20Guide.html"><img style="border: 0px solid ; width: 200px; height: 130px;" alt="Colibri" title="Colibri" src="../../Logo/Colibri_full.png"></a>&nbsp;&gt;&nbsp;<a href="../Example%20Code.html">Examples</a><h1 style="color: rgb(0, 0, 120);">EOSex_ROI_Delete</h1><a href="#Syntax">Syntax</a> |&nbsp;<a href="#Arguments">Arguments</a> | <a href="#Keywords">Keywords</a> | <a href="#Example">Example</a> | <a href="#Dependencies">Dependencies</a> | <a href="#Version_History">Version History</a><br><p>This example procedure demonstrates the use of the class method "<a href="../Object%20Classes/EOSocImages/ROI/EOSocImages%20Delete_Roi.html">EOSocImages::Delete_ROI</a>" for deleting ROIs.</p><h2 style="color: rgb(0, 0, 120);"><a name="Syntax"></a>Syntax</h2>EOSex_ROI_Delete<h2 style="color: rgb(0, 0, 120);"><a name="Arguments"></a>Arguments</h2>None.<h2 style="color: rgb(0, 0, 120);"><a name="Keywords"></a>Keywords</h2>None.<br><h2 style="color: rgb(0, 0, 120);"><a name="Dependencies"></a>Dependencies</h2>This demo uses the test images located in the Colibri install directory: &lt;Dir:\&gt;...\Colibri\Examples\<ul><li>DigiCam_1</li><li>DigiCam_2</li><li>DigiCam_3</li></ul><h2 style="color: rgb(0, 0, 120);"><a name="Example"></a>Example</h2><p>This example can be found in the Colibri install directory: &lt;Dir:\&gt;...\Colibri\Examples\</p><span style="color: rgb(0, 0, 220);"></span><table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(226, 226, 226);"><span style="color: rgb(0, 0, 220);">;------------------------------------------------------------------------------------------------------------</span><br><span style="color: rgb(0, 0, 220);">pro EOSex_ROI_CREATE</span><br><span style="color: rgb(0, 0, 220);">;------------------------------------------------------------------------------------------------------------</span><br><span style="color: rgb(0, 0, 220);">compile_opt strictarr, logical_predicate</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;----------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Initialization ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;----------------------</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; Path = ENVI_PICKFILE(/MULTIPLE_FILES, /DIRECTORY, $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp; TITLE='Locate the directory: ''..\Examples\Data''') </span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; if ~file_test(Path, /DIRECTORY) then return</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Pointer to the images to be used for demo.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; pImageList&nbsp;&nbsp; = ptr_new([Path+'\DigiCam_1', $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Path+'\DigiCam_2', $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Path+'\DigiCam_3']) </span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Directory where to store the ROI files.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; Roi_Dir = ENVI_PICKFILE(/MULTIPLE_FILES, /DIRECTORY, $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp; TITLE='Select the directory where the ROI files have to be stored.')+'\'</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; if ~file_test(Roi_Dir, /DIRECTORY) then return</span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;---------------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Create the status window. ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;---------------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; oStatus = IOScc_Init(oStatus, $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title = 'ROI_CREATE_DEMO', $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Log_Directory&nbsp;&nbsp;&nbsp;&nbsp; = Roi_Dir, $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Log_File_Prefix&nbsp;&nbsp; = 'ROI_CREATE_DEMO_log')</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;---------------------------------------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Creation and Initialization of the oImages object ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;---------------------------------------------------------</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; oImages = obj_new('EOSocImages', $</span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pImageList, $ </span><br><span style="color: rgb(0, 0, 220);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oStatus = oStatus)</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;----------------------------------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Check if the images were successfully opened ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;----------------------------------------------------</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; if ~oStatus-&gt;Check('Ok') then return</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;--------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- ROI Handling ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--------------------</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Remove and delete all ROIs in from the specified ROI directory.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; oImages-&gt;Delete_Roi, Roi_Dir=Roi_Dir, /All</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Use the first image 'KH_1' to demonstrate the usage of ROIs.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Create a single pixel ROI at sample/line location 10/20, the ROI name is 'Demo1' and color is white.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo1', '2', Samples=10, Lines=10, Roi_dir=Roi_Dir</span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Create a 3x3 pixels ROI at sample/line location 20/20, the ROI name is 'Demo2' and color is red.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo2', '3', Samples=20, Lines=10, Radius=1, Roi_dir=Roi_Dir</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Create a 7x7 pixels ROI at sample/line location 20/20, the ROI name is 'Demo3' and color is red.&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo3', '4', Samples=30, Lines=10, Radius=3, Roi_dir=Roi_Dir</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;-- Create a 5 pixels ROI at the samples and lines as defined, the ROI name is 'Demo4' and color is yellow.</span><br><span style="color: rgb(0, 0, 220);">&nbsp; Samples = [39, 40, 40, 40, 41]</span><br><span style="color: rgb(0, 0, 220);">&nbsp; Lines&nbsp;&nbsp; = [10, 9, 10, 11, 10]</span><br><span style="color: rgb(0, 0, 220);">&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo4', '5', Samples=Samples, Lines=Lines, Roi_dir=Roi_Dir</span><br><br style="color: rgb(0, 0, 220);"><span style="color: rgb(0, 0, 220);">&nbsp; ;-----------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;--- Image and ROI display ---</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-----------------------------</span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- &lt; ENVI 5.0</span><br><span style="color: rgb(0, 0, 220);">&nbsp; envi_open_file, (*pImageList)[0], r_fid=ImFid</span><br><span style="color: rgb(0, 0, 220);">&nbsp; envi_display_bands, [ImFid, ImFid, ImFid], [2, 1, 0], /new</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- &lt; ENVI 5.0</span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- &gt; ENVI 5.0 If you have ENVI 5.0 or higher you can uncomment the next statements.</span><br><span style="color: rgb(0, 0, 220);">;&nbsp; e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = envi(/current)</span><br><span style="color: rgb(0, 0, 220);">;&nbsp; raster = e.OpenRaster((*pImageList)[0])</span><br><span style="color: rgb(0, 0, 220);">;&nbsp; view&nbsp;&nbsp; = e.GetView()</span><br><span style="color: rgb(0, 0, 220);">;&nbsp; layer&nbsp; = view.CreateLayer(raster)</span><br><span style="color: rgb(0, 0, 220);">&nbsp; ;-- &gt; ENVI 5.0</span><br><span style="color: rgb(0, 0, 220);">&nbsp; </span><br><span style="color: rgb(0, 0, 220);">&nbsp; oStatus-&gt;Log_Status, 'Request', 'Image window &gt; Overlay &gt; Region of Interest...'</span><br><span style="color: rgb(0, 0, 220);">end</span></td></tr></tbody></table><span style="color: rgb(0, 0, 220);"><br></span><span style="color: rgb(0, 0, 220);"></span><h2 style="color: rgb(0, 0, 120);"><a name="Version_History"></a>Version History</h2><table style="text-align: left; width: 100px;" border="0" cellpadding="4" cellspacing="1"><tbody><tr><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Author</span></td><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Date</span></td><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Description</span></td></tr><tr><td style="background-color: rgb(226, 226, 226);"><a href="../Authors%20and%20Contributors.html">LBer</a></td><td style="white-space: nowrap; background-color: rgb(226, 226, 226);">October 2012</td><td style="background-color: rgb(226, 226, 226);">Created</td></tr></tbody></table><p></p></body></html>