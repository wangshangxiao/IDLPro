<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>EOSex_ROI_Create</title></head>
<body>&nbsp;&nbsp;&nbsp; <a href="file:///D:/Vip_Tools/Colibri/Reference%20Guide.html"><img style="border: 0px solid ; width: 200px; height: 130px;" alt="Colibri" title="Colibri" src="../../Logo/Colibri_full.png"></a>&nbsp;&gt;&nbsp;<a href="../Example%20Code.html">Examples</a><h1 style="color: rgb(0, 0, 120);">EOSex_ROI_Create</h1><a href="#Syntax">Syntax</a> |&nbsp;<a href="#Arguments">Arguments</a> | <a href="#Keywords">Keywords</a> | <a href="#Example">Example</a> | <a href="#Dependencies">Dependencies</a> | <a href="#Version_History">Version History</a><br><p>This example procedure demonstrates the use of the class method "<a href="../Object%20Classes/EOSocImages/ROI/EOSocImages%20Add_New_Roi.html">EOSocImages::Add_New_ROI</a>" for creating ROIs.</p><h2 style="color: rgb(0, 0, 120);"><a name="Syntax"></a>Syntax</h2>EOSex_ROI_Create<h2 style="color: rgb(0, 0, 120);"><a name="Arguments"></a>Arguments</h2>None.<h2 style="color: rgb(0, 0, 120);"><a name="Keywords"></a>Keywords</h2>None.<br><h2 style="color: rgb(0, 0, 120);"><a name="Dependencies"></a>Dependencies</h2>This demo uses the test images located in the Colibri install directory: &lt;Dir:\&gt;...\Colibri\Examples\<ul><li>DigiCam_1</li><li>DigiCam_2</li><li>DigiCam_3</li></ul><h2 style="color: rgb(0, 0, 120);"><a name="Example"></a>Example</h2><p>This example can be found in the Colibri install directory: &lt;Dir:\&gt;...\Colibri\Examples\</p><table style="text-align: left; width: 100%; color: rgb(0, 0, 220);" border="1" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(226, 226, 226);">;------------------------------------------------------------------------------------------------------------<br>pro EOSex_ROI_CREATE<br>;------------------------------------------------------------------------------------------------------------<br>compile_opt strictarr, logical_predicate<br><br>&nbsp; ;----------------------<br>&nbsp; ;--- Initialization ---<br>&nbsp; ;----------------------<br><br>&nbsp; Path = ENVI_PICKFILE(/MULTIPLE_FILES, /DIRECTORY, $<br>&nbsp;&nbsp;&nbsp; TITLE='Locate the directory: ''..\Examples\Data''') <br>&nbsp; <br>&nbsp; if ~file_test(Path, /DIRECTORY) then return<br>&nbsp;&nbsp;&nbsp; <br>&nbsp; ;--- Pointer to the images to be used for demo.<br>&nbsp; pImageList&nbsp;&nbsp; = ptr_new([Path+'\DigiCam_1', $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Path+'\DigiCam_2', $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Path+'\DigiCam_3']) <br><br>&nbsp; ;--- Directory where to store the ROI files.<br>&nbsp; Roi_Dir = ENVI_PICKFILE(/MULTIPLE_FILES, /DIRECTORY, $<br>&nbsp;&nbsp;&nbsp; TITLE='Select the directory where the ROI files have to be stored.')+'\'<br><br>&nbsp; if ~file_test(Roi_Dir, /DIRECTORY) then return<br>&nbsp; <br>&nbsp; ;---------------------------------<br>&nbsp; ;--- Create the status window. ---<br>&nbsp; ;---------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp; oStatus = IOScc_Init(oStatus, $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Title = 'ROI_CREATE_DEMO', $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Log_Directory&nbsp;&nbsp;&nbsp;&nbsp; = Roi_Dir, $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Log_File_Prefix&nbsp;&nbsp; = 'ROI_CREATE_DEMO_log')<br><br>&nbsp; ;---------------------------------------------------------<br>&nbsp; ;--- Creation and Initialization of the oImages object ---<br>&nbsp; ;---------------------------------------------------------<br><br>&nbsp; oImages = obj_new('EOSocImages', $<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pImageList, $ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; oStatus = oStatus)<br><br>&nbsp; ;----------------------------------------------------<br>&nbsp; ;--- Check if the images were successfully opened ---<br>&nbsp; ;----------------------------------------------------<br><br>&nbsp; if ~oStatus-&gt;Check('Ok') then return<br><br>&nbsp; ;--------------------<br>&nbsp; ;--- ROI Handling ---<br>&nbsp; ;--------------------<br><br>&nbsp; ;-- Remove and delete all ROIs in from the specified ROI directory.<br>&nbsp; oImages-&gt;Delete_Roi, Roi_Dir=Roi_Dir, /All<br><br>&nbsp; ;-- Use the first image 'KH_1' to demonstrate the usage of ROIs.<br>&nbsp; ;-- Create a single pixel ROI at sample/line location 10/20, the ROI name is 'Demo1' and color is white.<br>&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo1', '2', Samples=10, Lines=10, Roi_dir=Roi_Dir<br>&nbsp; <br>&nbsp; ;-- Create a 3x3 pixels ROI at sample/line location 20/20, the ROI name is 'Demo2' and color is red.<br>&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo2', '3', Samples=20, Lines=10, Radius=1, Roi_dir=Roi_Dir<br><br>&nbsp; ;-- Create a 7x7 pixels ROI at sample/line location 20/20, the ROI name is 'Demo3' and color is red.&nbsp; <br>&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo3', '4', Samples=30, Lines=10, Radius=3, Roi_dir=Roi_Dir<br><br>&nbsp; ;-- Create a 5 pixels ROI at the samples and lines as defined, the ROI name is 'Demo4' and color is yellow.<br>&nbsp; Samples = [39, 40, 40, 40, 41]<br>&nbsp; Lines&nbsp;&nbsp; = [10, 9, 10, 11, 10]<br>&nbsp; oImages-&gt;Add_New_Roi, (*pImageList)[0], 'Demo4', '5', Samples=Samples, Lines=Lines, Roi_dir=Roi_Dir<br><br>&nbsp; ;-----------------------------<br>&nbsp; ;--- Image and ROI display ---<br>&nbsp; ;-----------------------------<br>&nbsp; <br>&nbsp; ;-- &lt; ENVI 5.0<br>&nbsp; envi_open_file, (*pImageList)[0], r_fid=ImFid<br>&nbsp; envi_display_bands, [ImFid, ImFid, ImFid], [2, 1, 0], /new<br>&nbsp; ;-- &lt; ENVI 5.0<br>&nbsp; <br>&nbsp; ;-- &gt; ENVI 5.0 If you have ENVI 5.0 or higher you can uncomment the next statements.<br>;&nbsp; e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = envi(/current)<br>;&nbsp; raster = e.OpenRaster((*pImageList)[0])<br>;&nbsp; view&nbsp;&nbsp; = e.GetView()<br>;&nbsp; layer&nbsp; = view.CreateLayer(raster)<br>&nbsp; ;-- &gt; ENVI 5.0<br>&nbsp; <br>&nbsp; oStatus-&gt;Log_Status, 'Request', 'Image window &gt; Overlay &gt; Region of Interest...'<br>end</td></tr></tbody></table><h2 style="color: rgb(0, 0, 120);"><a name="Version_History"></a>Version History</h2><table style="text-align: left; width: 100px;" border="0" cellpadding="4" cellspacing="1"><tbody><tr><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Author</span></td><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Date</span></td><td style="background-color: rgb(213, 213, 222);"><span style="font-weight: bold;">Description</span></td></tr><tr><td style="background-color: rgb(226, 226, 226);"><a href="../Authors%20and%20Contributors.html">LBer</a></td><td style="white-space: nowrap; background-color: rgb(226, 226, 226);">October 2012</td><td style="background-color: rgb(226, 226, 226);">Created</td></tr></tbody></table><p></p></body></html>